(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(42)},22:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(10),u=n.n(l),o=(n(22),n(11)),m=n(12),c=n(14),s=n(13),i=n(15),d=function(e){var t=e.name,n=e.number,a=e.deleteEntry;return r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",null,n),r.a.createElement("td",null,r.a.createElement("button",{onClick:a},"Delete")))},h=function(e){var t=e.newName,n=e.newNumber,a=e.addNumber,l=e.handleNameChange,u=e.handleNumberChange;return r.a.createElement("form",{onSubmit:a},r.a.createElement("div",null,"Name ",r.a.createElement("br",null),r.a.createElement("input",{value:t,onChange:l})),r.a.createElement("div",null,"Number ",r.a.createElement("br",null),r.a.createElement("input",{value:n,onChange:u})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Add")))},f=n(2),b=n.n(f),N={getAll:function(){return b.a.get("/api/persons").then(function(e){return e.data})},create:function(e){return b.a.post("/api/persons",e).then(function(e){return e.data})},remove:function(e){return b.a.delete("".concat("/api/persons","/").concat(e)).then(function(e){return e.data})}},p=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(s.a)(t).call(this,e))).addNumber=function(e){if(e.preventDefault(),-1!==n.state.persons.map(function(e){return e.name}).indexOf(n.state.newName))alert("Name '"+n.state.newName+"' already exists in the phone directory and can't be added."),n.setState({newName:""});else if(""===n.state.newName||""===n.state.newNumber)alert("Both fields need to be filled.");else{var t={name:n.state.newName,number:n.state.newNumber};N.create(t).then(function(e){n.setState({persons:n.state.persons.concat(e),newName:"",newNumber:""})})}},n.deleteEntry=function(e){return function(){if(console.log("Entry ".concat(e," needs to be deleted")),window.confirm("Do you want to delete entry for ".concat(e,"?"))){var t=n.state.persons.find(function(t){return t.name===e});N.remove(t.id).then(function(e){var a=n.state.persons.filter(function(e){return e.id!==t.id});n.setState({persons:a})})}}},n.handleNameChange=function(e){console.log(e.target.value),n.setState({newName:e.target.value})},n.handleNumberChange=function(e){console.log(e.target.value),n.setState({newNumber:e.target.value})},n.state={persons:[],newName:"",newNumber:""},n}return Object(i.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("Did mount"),N.getAll().then(function(t){console.log("Promise fulfilled"),e.setState({persons:t})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,"Phone Directory"),r.a.createElement(h,{newName:this.state.newName,newNumber:this.state.newNumber,addNumber:this.addNumber,handleNameChange:this.handleNameChange,handleNumberChange:this.handleNumberChange}),r.a.createElement("h2",null,"Numbers"),r.a.createElement("table",null,r.a.createElement("tbody",null,this.state.persons.map(function(t){return r.a.createElement(d,{key:t.name,name:t.name,number:t.number,deleteEntry:e.deleteEntry(t.name)})}))))}}]),t}(r.a.Component);u.a.render(r.a.createElement(p,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.7a13ff25.chunk.js.map